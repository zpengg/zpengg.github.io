# Redis 事件
[[文件事件]]
[[时间事件]]
## 事件调度
文件事件 和 时间事件 是同一个(主)线程，具体的实现是通过利用时间分片的方式解决的

找最近周期timer
事件还有剩， 处理 文件事件
然后处理 时间事件

### 集中过期问题
[[expire]] 主动过期
Redis 内部维护了一个定时任务，默认每隔 100 毫秒（1秒10次）就会从全局的过期哈希表中随机取出 20 个 key，然后删除其中过期的 key，如果过期 key 的比例超过了 25%，则继续重复此过程，直到过期 key 的比例下降到 25% 以下，或者这次任务的执行耗时超过了 25 毫秒，才会退出循环