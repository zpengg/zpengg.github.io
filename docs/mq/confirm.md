# Confirm

## 异步
onfirm模式最大的好处在于他是**异步**的，一旦发布一条消息，生产者应用程序就可以在等信道返回确认的同时继续发送下一条消息，当消息最终得到确认之后，生产者应用便可以通过回调方法来处理该确认消息，如果RabbitMQ因为自身内部错误导致消息丢失，就会发送一条nack消息，生产者应用程序同样可以在回调方法中处理该nack消息。
————————————————
版权声明：本文为CSDN博主「朱小厮」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/u013256816/article/details/55515234   

## 原理

当信道channel 进入confirm模式, 所有在该信道发布的消息都会被指派一个**唯一id**
当消息被投递到所有匹配的队列后, broker就会发送一个确认给生产者(包含消息id);